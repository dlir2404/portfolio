---
title: "MCP - Model Context Protocol: Khi AI biáº¿t 'gá»i ngoáº¡i binh'"
publishedAt: "2025-08-04" 
image: "/images/blogs/mcp-explained/thumbnail.png"
summary: "Tá»«ng nghe thuáº­t ngá»¯ MCP nhÆ°ng chÆ°a hiá»ƒu rÃµ? BÃ i nÃ y sáº½ giáº£i thÃ­ch MCP - giao thá»©c giÃºp AI 'má»Ÿ rá»™ng vÅ© trá»¥' báº±ng cÃ¡ch káº¿t ná»‘i vá»›i external tools vÃ  resources. Tá»« tool calling cÆ¡ báº£n Ä‘áº¿n MCP advanced, all in má»™t bÃ i!"
tags: ["AI"]
featured: true
readTime: "10 min read"
author: "Larry Vu"
---

## MCP lÃ  cÃ¡i quÃ¡i gÃ¬ tháº¿?

CÃ³ bao giá» báº¡n tháº¯c máº¯c táº¡i sao AI nhÆ° ChatGPT bá»—ng nhiÃªn biáº¿t **gá»i calculator**, **check weather**, hay **query database** Ä‘Æ°á»£c khÃ´ng? TrÆ°á»›c kia AI chá»‰ biáº¿t nÃ³i chuyá»‡n, giá» láº¡i biáº¿t "lÃ m viá»‡c" thá»±c táº¿ nhÆ° tháº¿ nÃ y?

ÄÃ³ chÃ­nh lÃ  nhá» **tool calling** - kháº£ nÄƒng AI gá»i cÃ¡c functions bÃªn ngoÃ i. NhÆ°ng mÃ  tool calling truyá»n thá»‘ng cÃ³ háº¡n cháº¿: AI chá»‰ dÃ¹ng Ä‘Æ°á»£c cÃ¡c functions **hardcoded** sáºµn trong app.

Rá»“i **Model Context Protocol (MCP)** xuáº¥t hiá»‡n nhÆ° má»™t "siÃªu anh hÃ¹ng" giáº£i quyáº¿t váº¥n Ä‘á» nÃ y! ğŸ¦¸â€â™‚ï¸

<Image
  src="/images/blogs/mcp-explained/mcp-architecture.png"
  alt="MCP Architecture Overview"
  width={1536}
  height={1024}
/>

## MCP = Tool Calling "Äƒn steroid"

Náº¿u vÃ­ tool calling truyá»n thá»‘ng nhÆ° má»™t cÃ¡i **há»™p Ä‘á»“ chÆ¡i cá»‘ Ä‘á»‹nh**, thÃ¬ MCP lÃ  má»™t **cá»­a hÃ ng Ä‘á»“ chÆ¡i khá»•ng lá»“** mÃ  AI cÃ³ thá»ƒ **tá»± shopping**!

```typescript
// Tool calling cÅ©: Functions hardcoded
const tools = [calculate, getWeather, sendEmail]; // â† Cá»‘ Ä‘á»‹nh!

// MCP: AI tá»± discovery tools tá»« servers
const mathServer = new MCPServer("math-tools");
const weatherServer = new MCPServer("weather-api");  
const emailServer = new MCPServer("email-service");

// AI: "Hmm, tÃ´i cáº§n tools gÃ¬ nhá»‰?"
const availableTools = await discoverAllTools(); // â† Dynamic!
```

**Äiá»ƒm khÃ¡c biá»‡t chÃ­nh:**
- **Tool calling**: âŒ Static, hardcoded, limited
- **MCP**: âœ… Dynamic, discoverable, unlimited

## ğŸ—ï¸ Kiáº¿n trÃºc MCP - ÄÆ¡n giáº£n mÃ  hiá»‡u quáº£

<Image
  src="/images/blogs/mcp-explained/mcp-architecture-flow.png"
  alt="MCP Architecture Flow"
  width={1536}
  height={1024}
/>

**MCP Host**: AI application (nhÆ° Claude, VS Code)
**MCP Server**: ChÆ°Æ¡ng trÃ¬nh cung cáº¥p tools/resources
**MCP Protocol**: NgÃ´n ngá»¯ giao tiáº¿p chuáº©n (JSON-RPC)

Kiá»ƒu nhÆ° AI nÃ³i: *"Anh cÃ³ tools gÃ¬ khÃ´ng?"*
Server tráº£ lá»i: *"TÃ´i cÃ³ calculate, factorial, fibonacci Ä‘Ã¢y!"*
AI: *"Cho tÃ´i xÃ i cÃ¡i calculate vá»›i!"* ğŸ¤

## ğŸ¯ Ba "anh em ruá»™t" cá»§a MCP

### 1. ğŸ› ï¸ Tools - "Functions AI cÃ³ thá»ƒ gá»i"

```typescript
// Server expose tools
server.registerTool("calculate", {
  description: "TÃ­nh toÃ¡n biá»ƒu thá»©c toÃ¡n há»c",
  inputSchema: { expression: z.string() }
}, async ({ expression }) => {
  return { content: [{ type: "text", text: eval(expression) }] };
});

// AI gá»i tool
await client.callTool('calculate', { expression: '2 + 2' });
// â†’ "4"
```

**VÃ­ dá»¥ tools hay cÃ³:**
- `send_email(to, subject, body)` - Gá»­i email
- `query_database(sql)` - Query database  
- `get_weather(city)` - Láº¥y thÃ´ng tin thá»i tiáº¿t
- `create_file(path, content)` - Táº¡o file

### 2. ğŸ“š Resources - "Data AI cÃ³ thá»ƒ Ä‘á»c"

```typescript
// Server expose resources
await client.readResource('file:///project/README.md');
await client.readResource('database://users/schema');
await client.readResource('api://swagger.json');
```

Resources giá»‘ng nhÆ° **API endpoints** nhÆ°ng Ä‘á»ƒ Ä‘á»c data thÃ´i, khÃ´ng cÃ³ side effects.

**VÃ­ dá»¥ resources:**
- File contents: `file:///path/to/code.js`
- Database schemas: `db://table_info`  
- Configuration: `config://app.json`
- Documentation: `docs://api-guide`

### 3. ğŸ’¬ Prompts - "Templates cho AI"

ÄÃ¢y lÃ  pháº§n **thÃº vá»‹ nháº¥t**! Thay vÃ¬ hardcode prompts trong AI app, server cÃ³ thá»ƒ cung cáº¥p **domain-specific prompts** vá»›i expertise cao!

```typescript
// Math server biáº¿t cÃ¡ch prompt AI solve math problems
server.registerPrompt("solve-equation", {
  argsSchema: { equation: z.string(), method: z.string() }
}, ({ equation, method }) => ({
  messages: [{
    role: "user",
    content: {
      type: "text", 
      text: `
Solve this equation step by step: ${equation}

Use ${method} method. Show:
1. Original equation
2. Step-by-step solution  
3. Final answer
4. Verification

Remember to explain each algebraic manipulation clearly.
      `
    }
  }]
}));
```

**Táº¡i sao prompts quan trá»ng?**
- **Domain expertise**: Math server biáº¿t cÃ¡ch prompt solve math, DB server biáº¿t prompt optimize queries
- **Context-rich**: Server cÃ³ thá»ƒ build prompts vá»›i domain knowledge sÃ¢u
- **Consistent**: Standardized prompting approach across tools

<Image
  src="/images/blogs/mcp-explained/mcp-prompts-flow.png"
  alt="MCP Prompts Flow"
  width={512}
  height={768}
/>

## ğŸš€ MCP hoáº¡t Ä‘á»™ng nhÆ° tháº¿ nÃ o?

### Phase 1: Discovery
```typescript
// AI: "TÃ´i muá»‘n biáº¿t báº¡n cÃ³ gÃ¬?"
const tools = await client.listTools();
const resources = await client.listResources();
const prompts = await client.listPrompts();

// Server: "TÃ´i cÃ³ nhá»¯ng nÃ y Ä‘Ã¢y!"
// Tools: [calculate, send_email, query_db]
// Resources: [file://, database://, config://]
// Prompts: [solve-equation, debug-code, optimize-query]
```

### Phase 2: Execution
```typescript
// AI quyáº¿t Ä‘á»‹nh: "TÃ´i cáº§n tÃ­nh toÃ¡n!"
const result = await client.callTool('calculate', {
  expression: 'Math.sqrt(16) + Math.PI'
});
// â†’ "7.141592653589793"

// AI: "TÃ´i cáº§n Ä‘á»c file!"
const content = await client.readResource('file:///README.md');
// â†’ File content

// AI: "TÃ´i cáº§n prompt hay Ä‘á»ƒ debug!"
const debugPrompt = await client.getPrompt('debug-code', {
  error: 'TypeError: Cannot read property of undefined',
  code: '...'
});
// â†’ Structured prompt vá»›i debugging best practices
```

### Phase 3: Real-time Updates
```typescript
// Server thÃ´ng bÃ¡o: "TÃ´i cÃ³ tools má»›i!"
server.notify('tools/list_changed');

// AI tá»± Ä‘á»™ng refresh vÃ  discover tools má»›i
const newTools = await client.listTools();
```

## ğŸ”¥ Real-world Example

TÆ°á»Ÿng tÆ°á»£ng báº¡n Ä‘ang lÃ m viá»‡c trong **VS Code** vá»›i MCP:

```typescript
const client = new MCPClient();

// Káº¿t ná»‘i multiple servers
await client.connect('node', ['./file-server.js']);     // File operations
await client.connect('node', ['./db-server.js']);       // Database access
await client.connect('node', ['./git-server.js']);      // Git operations
await client.connect('node', ['./api-server.js']);      // API testing

// BÃ¢y giá» AI cÃ³ thá»ƒ:
// 1. List files trong project
const files = await client.callTool('list_files', {pattern: '*.ts'});

// 2. Äá»c source code  
const code = await client.readResource('file:///src/main.ts');

// 3. Query database Ä‘á»ƒ hiá»ƒu data structure
const schema = await client.callTool('describe_table', {table: 'users'});

// 4. Check git history
const commits = await client.callTool('git_log', {limit: 10});

// 5. Test API endpoints
const apiResult = await client.callTool('test_endpoint', {
  url: '/api/users', method: 'GET'
});

// 6. Sá»­ dá»¥ng specialized prompts
const codeReview = await client.getPrompt('code-review', {
  code: code, framework: 'React', type: 'component'
});
```

**Result**: AI cÃ³ **full context** vá» project vÃ  cÃ³ thá»ƒ thá»±c hiá»‡n complex tasks! ğŸš€

![MCP Real World Example](/images/blogs/mcp-explained/mcp-real-world.png)

## ğŸ†š MCP vs REST API - Sá»± khÃ¡c biá»‡t

| REST API | MCP |
|----------|-----|
| HTTP requests | JSON-RPC messages |
| Custom endpoints | Standardized methods (`tools/list`, `tools/call`) |
| Manual integration | Auto-discovery |
| Human developers | AI agents |
| Static documentation | Dynamic capability negotiation |

**Äiá»ƒm máº¥u chá»‘t**: REST API design cho con ngÆ°á»i, MCP design cho AI! ğŸ¤–

## ğŸ­ Táº¡i sao MCP "Ä‘á»‰nh" tháº¿?

### 1. ğŸ”Œ Pluggable Architecture
```typescript
// Dá»… dÃ ng thÃªm/bá»›t capabilities
await addServer('./new-awesome-server.js');
await removeServer('./old-server.js');
// AI tá»± Ä‘á»™ng adapt vá»›i tools má»›i!
```

### 2. ğŸŒ Network-native
```typescript
// Local servers
await client.connect('node', ['./local-server.js']);

// Remote servers  
await client.connect('http://api.example.com/mcp');
```

### 3. ğŸ“ Standardization
Táº¥t cáº£ MCP servers Ä‘á»u cÃ³ **same interface**:
- `tools/list` - List available tools
- `tools/call` - Execute a tool
- `resources/list` - List available resources  
- `resources/read` - Read resource content
- `prompts/list` - List available prompts
- `prompts/get` - Get prompt template

### 4. ğŸ”„ Dynamic & Real-time
```typescript
// Server cÃ³ thá»ƒ update capabilities runtime
server.addTool('new_feature', ...);
server.notify('tools/list_changed');
// AI tá»± Ä‘á»™ng biáº¿t vÃ  sá»­ dá»¥ng ngay!
```

### 5. ğŸ¯ Specialized Domains
Má»—i server focus vÃ o **expertise riÃªng**:
- **Math server**: Advanced calculations, equation solving
- **Database server**: Query optimization, schema analysis
- **Git server**: Version control operations
- **API server**: HTTP testing, documentation generation

## ğŸ› ï¸ Implement MCP Server Ä‘Æ¡n giáº£n

```typescript
import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { StdioServerTransport } from "@modelcontextprotocol/sdk/server/stdio.js";

const server = new McpServer({
  name: "my-awesome-server",
  version: "1.0.0"
});

// Add a calculator tool
server.registerTool("calculate", {
  title: "Calculator",
  description: "Evaluate mathematical expressions",
  inputSchema: { expression: z.string() }
}, async ({ expression }) => ({
  content: [{ type: "text", text: String(eval(expression)) }]
}));

// Add a resource  
server.registerResource("config", "config://app", {
  title: "App Configuration"
}, async () => ({
  contents: [{ 
    uri: "config://app",
    text: JSON.stringify({ env: "production", debug: false })
  }]
}));

// Add a prompt
server.registerPrompt("debug-helper", {
  title: "Debug Assistant",
  argsSchema: { error: z.string(), code: z.string() }
}, ({ error, code }) => ({
  messages: [{
    role: "user",
    content: { 
      type: "text",
      text: `Help me debug this error:\n\nError: ${error}\n\nCode:\n${code}\n\nProvide step-by-step debugging approach.`
    }
  }]
}));

// Start server
const transport = new StdioServerTransport();
await server.connect(transport);
console.log("ğŸš€ MCP Server running!");
```

**3 dÃ²ng code Ä‘á»ƒ táº¡o MCP client:**
```typescript
import { MCPClient } from './client.js';

const client = new MCPClient();
await client.connect('node', ['./my-server.js']);
const result = await client.callTool('calculate', { expression: '2 + 2' });
```

Easy peasy! ğŸ°

## ğŸ”® TÆ°Æ¡ng lai cá»§a MCP

MCP má»Ÿ ra **infinite possibilities**:

- **ğŸ  Smart Home**: AI control IoT devices qua MCP servers
- **ğŸ¢ Enterprise**: AI access internal systems safely  
- **ğŸ® Gaming**: AI interact vá»›i game engines
- **ğŸ”¬ Research**: AI orchestrate complex workflows
- **ğŸ¨ Creative**: AI access design tools vÃ  art platforms

**TÆ°á»Ÿng tÆ°á»£ng**: AI cÃ³ thá»ƒ káº¿t ná»‘i vá»›i **má»i thá»©** mÃ  váº«n **secure** vÃ  **standardized**! ğŸ¤¯

## ğŸ¯ Káº¿t luáº­n

MCP khÃ´ng chá»‰ lÃ  má»™t giao thá»©c - nÃ³ lÃ  **paradigm shift** trong cÃ¡ch AI interact vá»›i external world!

**Key takeaways:**
- âœ… MCP = Tool calling nÃ¢ng cáº¥p vá»›i dynamic discovery
- âœ… 3 primitives: Tools (actions), Resources (data), Prompts (templates)  
- âœ… Standardized interface nhÆ°ng flexible implementation
- âœ… Real-time updates vÃ  pluggable architecture
- âœ… Design cho AI agents, not human developers

**Bottom line**: Náº¿u tool calling lÃ  **"AI biáº¿t gá»i function"**, thÃ¬ MCP lÃ  **"AI biáº¿t shopping for superpowers"**! ğŸ›ï¸âš¡

Tá»« giá», thay vÃ¬ há»i *"AI cÃ³ thá»ƒ lÃ m gÃ¬?"*, chÃºng ta sáº½ há»i *"AI **khÃ´ng thá»ƒ** lÃ m gÃ¬?"* ğŸ˜

---

*P/S: BÃ i viáº¿t nÃ y Ä‘Æ°á»£c viáº¿t vá»›i sá»± há»— trá»£ cá»§a MCP... Ã  khÃ´ng, vá»›i sá»± há»— trá»£ cá»§a cafein vÃ  passion cho technology! â˜•ï¸*

![MCP Future Vision](/images/blogs/mcp-explained/mcp-future.png)
